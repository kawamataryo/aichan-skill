---
description: 変更内容を適切な粒度でコミットします
allowed-tools: Bash(git *), Read, Glob, Grep
---

変更内容を確認し、適切な粒度でコミットを作成してください。以下の手順で進めてください：

1. まず現在の状態を確認：
   - `git status` で変更ファイルを一覧
   - `git diff` でステージされていない変更を確認
   - `git diff --cached` でステージ済みの変更を確認
   - `git log --oneline -5` で直近のコミットスタイルを確認

2. 変更内容を分析して、論理的なまとまりごとにグループ分け：
   - 機能追加、バグ修正、リファクタリング、設定変更などの種類で分類
   - 関連するファイルをまとめる
   - 1つのコミットが1つの目的を持つようにする

3. ユーザーにコミット計画を提示：
   - 各コミットに含めるファイルと変更内容の概要
   - 提案するコミットメッセージ
   - ユーザーの確認・修正を待つ

4. ユーザーの承認後、各コミットを順番に作成：
   - `git add <files>` で対象ファイルをステージ
   - Conventional Commits形式（feat:, fix:, refactor:, docs:, chore: など）
   - 日本語でコミットメッセージを作成
   - Co-Authored-By は不要

5. すべてのコミット完了後、`git log --oneline` で結果を表示

注意：
- pushはしない（ユーザーが明示的に指示した場合のみ）
- コミットメッセージは簡潔かつ明確に
- ユーザーの確認なしにコミットしない
- --no-verify は使わない
